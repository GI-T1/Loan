{"ast":null,"code":"import _asyncToGenerator from \"/Users/bhawanabenda/javaProject/Angular/loanProject/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet SubmitComponent = class SubmitComponent {\n  constructor(formbuilder, router, service) {\n    this.formbuilder = formbuilder;\n    this.router = router;\n    this.service = service;\n    this.score = 0;\n    this.loanregex = /^\\$\\d+(?:.(\\d+))?$/;\n    this.submitted = false;\n    this.custid = Number.parseInt(JSON.stringify(this.service.userid)); //number\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.registerForm = _this.formbuilder.group({\n        firstName: ['', [Validators.required, Validators.maxLength(255)]],\n        middleName: ['', [Validators.maxLength(255)]],\n        lastName: ['', [Validators.required, Validators.maxLength(255)]],\n        dateOfBirth: ['', [Validators.required]],\n        emailAddress: ['', [Validators.email, Validators.required]],\n        maritalStatus: ['', Validators.required],\n        ssnNumber: ['', Validators.required],\n        homePhone: ['', [Validators.required, Validators.pattern(\"^[0-9]{3,4}[-][0-9]{6,8}$\")]],\n        officePhone: ['', [Validators.required, Validators.pattern(\"^\\\\d{10}$\")]],\n        mobile: ['', [Validators.required, Validators.pattern(\"^[0-9]{2}[-][0-9]{10}$\")]],\n        loanAmount: ['', Validators.required],\n        loanPurpose: ['', Validators.required],\n        description: [''],\n        addressline1: ['', [Validators.required, Validators.maxLength(255)]],\n        addressline2: ['', [Validators.maxLength(255)]],\n        city: ['', Validators.required, Validators.maxLength(255)],\n        state: ['', [Validators.required, Validators.maxLength(255)]],\n        postalCode: ['', [Validators.required, Validators.pattern(\"^\\\\d{6}$\")]],\n        employerName: ['', [Validators.required, Validators.maxLength(255)]],\n        annualSalary: ['', Validators.required],\n        workExpJoinMonth: [''],\n        workExpJoinYear: [''],\n        workExpYears: [''],\n        workExpMonths: [''],\n        designation: ['', [Validators.maxLength(255)]]\n      });\n      _this.customerData2 = yield _this.service.customerData(_this.custid);\n    })();\n  }\n\n  get h() {\n    return this.registerForm.controls;\n  }\n\n  onSubmit() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.submitted = true;\n\n      if (_this2.registerForm.invalid) {\n        return;\n      }\n\n      alert(\"Success Signup\\n\" + JSON.stringify(_this2.registerForm.value));\n      console.table(_this2.registerForm.value);\n      console.log(_this2.registerForm);\n      var applicationData = {};\n      var addressData = {};\n      var loanData = {};\n      var employmentAddress = {};\n      addressData[\"addressId\"] = String(_this2.service.addressIdResponse);\n      addressData[\"addressline1\"] = _this2.registerForm.get('addressline1').value;\n      addressData[\"addressline2\"] = _this2.registerForm.get('addressline2').value;\n      addressData[\"city\"] = _this2.registerForm.get('city').value;\n      addressData[\"state\"] = _this2.registerForm.get('state').value;\n      addressData[\"postalCode\"] = Number.parseInt(_this2.registerForm.get('postalCode').value);\n      employmentAddress[\"addressId\"] = String(_this2.service.employentIdResponse);\n      employmentAddress[\"addressline1\"] = _this2.registerForm.get('addressline1').value;\n      employmentAddress[\"addressline2\"] = _this2.registerForm.get('addressline2').value;\n      employmentAddress[\"city\"] = _this2.registerForm.get('city').value;\n      employmentAddress[\"state\"] = _this2.registerForm.get('state').value;\n      employmentAddress[\"postalCode\"] = Number.parseInt(_this2.registerForm.get('postalCode').value);\n      applicationData[\"customerId\"] = Number.parseInt(_this2.service.userid);\n      applicationData[\"firstName\"] = _this2.registerForm.get('firstName').value;\n      applicationData[\"middleName\"] = _this2.registerForm.get('middleName').value;\n      applicationData[\"lastName\"] = _this2.registerForm.get('lastName').value;\n      applicationData[\"dateOfBirth\"] = new Date(_this2.registerForm.get('dateOfBirth').value).getTime();\n      applicationData[\"maritalStatus\"] = _this2.registerForm.get('maritalStatus').value;\n      applicationData[\"ssnNumber\"] = Number.parseInt(_this2.registerForm.get('ssnNumber').value);\n      applicationData[\"homePhone\"] = _this2.registerForm.get('homePhone').value;\n      applicationData[\"officePhone\"] = _this2.registerForm.get('officePhone').value;\n      applicationData[\"emailAddress\"] = _this2.registerForm.get('emailAddress').value;\n      applicationData[\"address\"] = addressData;\n      applicationData[\"employerName\"] = _this2.registerForm.get('employerName').value;\n      applicationData[\"annualSalary\"] = Number.parseInt(_this2.registerForm.get('annualSalary').value);\n      applicationData[\"workExpJoinMonth\"] = Number.parseInt(_this2.registerForm.get('workExpJoinMonth').value);\n      applicationData[\"workExpJoinYear\"] = Number.parseInt(_this2.registerForm.get('workExpJoinYear').value);\n      applicationData[\"workExpMonths\"] = Number.parseInt(_this2.registerForm.get('workExpMonths').value);\n      applicationData[\"workExpYears\"] = Number.parseInt(_this2.registerForm.get('workExpYears').value);\n      applicationData[\"designation\"] = _this2.registerForm.get('designation').value;\n      applicationData[\"employmentAddressId\"] = String(_this2.service.employentIdResponse);\n      applicationData[\"employmentAddress\"] = employmentAddress;\n      applicationData[\"mobile\"] = _this2.registerForm.get('mobile').value;\n      loanData[\"loanAmount\"] = Number.parseInt(_this2.registerForm.get('loanAmount').value);\n      loanData[\"loanPurpose\"] = _this2.registerForm.get('loanPurpose').value;\n      loanData[\"description\"] = _this2.registerForm.get('description').value;\n      loanData[\"customerId\"] = Number.parseInt(_this2.service.userid);\n      loanData[\"applicantName\"] = _this2.registerForm.get('firstName').value + \" \" + _this2.registerForm.get('lastName').value;\n      loanData[\"applicationStatus\"] = 0; //In process\n\n      console.log(_this2.service.userid);\n      console.log(_this2.service.addressIdResponse);\n      yield _this2.service.putLoanApplication(loanData);\n      yield _this2.service.submitApplication(applicationData);\n      console.log(_this2.service.bureauresponse);\n      yield _this2.service.bureauService(_this2.service.bureauresponse);\n      _this2.score = _this2.service.bureauscore;\n      console.log(_this2.score);\n      loanData[\"applicationId\"] = Number.parseInt(_this2.service.applicationresponse[\"applicationId\"]);\n\n      if (_this2.score < 680) {\n        loanData[\"declineReason\"] = \"Insufficient Score\";\n        loanData[\"applicationStatus\"] = 1; //Declined\n\n        loanData[\"score\"] = _this2.score;\n      } else {\n        loanData[\"declineReason\"] = \"None\";\n        loanData[\"applicationStatus\"] = 2; //Accepted\n\n        loanData[\"score\"] = _this2.score;\n      }\n\n      _this2.service.updateApplication(loanData);\n\n      _this2.router.navigateByUrl('/success-submit');\n    })();\n  }\n\n  onReset() {\n    this.submitted = false;\n    this.registerForm.reset();\n  }\n\n};\nSubmitComponent = __decorate([Component({\n  selector: 'app-submit',\n  templateUrl: './submit.component.html',\n  styleUrls: ['./submit.component.css']\n})], SubmitComponent);\nexport { SubmitComponent };","map":{"version":3,"sources":["/Users/bhawanabenda/javaProject/Angular/loanProject/src/app/components/submit/submit.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators,FormArray } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { analyze } from 'eslint-scope';\nimport { ServiceCallsService } from 'src/app/services/service-calls.service';\n@Component({\n  selector: 'app-submit',\n  templateUrl: './submit.component.html',\n  styleUrls: ['./submit.component.css']\n})\nexport class SubmitComponent implements OnInit {\n\n  constructor(private formbuilder:FormBuilder,private router:Router, private service:ServiceCallsService) { }\n  public score = 0;\n  public loanregex = /^\\$\\d+(?:.(\\d+))?$/;\n  //public numericValidation = /^[^a-z ]\\ *([.0-9])*\\d/;\n  //public postalCodeValidation= /\\d{6}/;\n  \n  registerForm: FormGroup | any ;\n  submitted = false;\n  public custid = Number.parseInt(JSON.stringify(this.service.userid)) //number\n  public customerData2:any;\n  \n async ngOnInit(): Promise<void> {\n    this.registerForm = this.formbuilder.group({\n      firstName :['',[Validators.required,Validators.maxLength(255)]],\n      middleName :['',[Validators.maxLength(255)]],\n      lastName : ['',[Validators.required,Validators.maxLength(255)]],\n      dateOfBirth : ['', [Validators.required]],\n      emailAddress : ['', [Validators.email, Validators.required]],\n      maritalStatus : ['',Validators.required],\n      ssnNumber : ['',Validators.required],\n      homePhone:['',[Validators.required,Validators.pattern(\"^[0-9]{3,4}[-][0-9]{6,8}$\")]],\n      officePhone:['',[Validators.required,Validators.pattern(\"^\\\\d{10}$\")]],\n      mobile:['',[Validators.required,Validators.pattern(\"^[0-9]{2}[-][0-9]{10}$\")]],\n      loanAmount : ['',Validators.required],\n      loanPurpose : ['',Validators.required],\n      description : [''],\n      addressline1 : ['',[Validators.required,Validators.maxLength(255)]],\n      addressline2 : ['',[Validators.maxLength(255)]],\n      city : ['',Validators.required,Validators.maxLength(255)],\n      state : ['',[Validators.required,Validators.maxLength(255)]],\n      postalCode : ['',[Validators.required,Validators.pattern(\"^\\\\d{6}$\")]],\n      employerName :['',[Validators.required,Validators.maxLength(255)]],\n      annualSalary : ['',Validators.required], \n      workExpJoinMonth:[''],\n      workExpJoinYear:[''],\n      workExpYears:[''],\n      workExpMonths:[''],\n      designation : ['',[Validators.maxLength(255)]],\n    });\n    this.customerData2 = await this.service.customerData(this.custid);\n\n  }\n\n  get h(){\n    return this.registerForm.controls;\n  }\n\n\n\n  async onSubmit(){\n    this.submitted = true;\n    if(this.registerForm.invalid){\n       return;\n      }\n      alert(\"Success Signup\\n\"+ JSON.stringify(this.registerForm.value));\n      console.table(this.registerForm.value);\n      console.log(this.registerForm);\n   \n     var applicationData:any = {};\n     var addressData:any={};\n     var loanData:any={};\n     var employmentAddress:any={};\n     \n\n     addressData[\"addressId\"] = String(this.service.addressIdResponse);\n     addressData[\"addressline1\"] = this.registerForm.get('addressline1').value;\n     addressData[\"addressline2\"] = this.registerForm.get('addressline2').value;\n     addressData[\"city\"] = this.registerForm.get('city').value;\n     addressData[\"state\"] = this.registerForm.get('state').value;\n     addressData[\"postalCode\"] = Number.parseInt(this.registerForm.get('postalCode').value);\n\n     employmentAddress[\"addressId\"] = String(this.service.employentIdResponse);\n     employmentAddress[\"addressline1\"]=this.registerForm.get('addressline1').value;\n     employmentAddress[\"addressline2\"]=this.registerForm.get('addressline2').value;\n     employmentAddress[\"city\"]=this.registerForm.get('city').value;\n     employmentAddress[\"state\"]=this.registerForm.get('state').value;\n     employmentAddress[\"postalCode\"]=Number.parseInt(this.registerForm.get('postalCode').value);\n\n\n\n\n     applicationData[\"customerId\"]=Number.parseInt(this.service.userid);\n     applicationData[\"firstName\"]= this.registerForm.get('firstName').value;\n     applicationData[\"middleName\"]= this.registerForm.get('middleName').value;\n     applicationData[\"lastName\"] =this.registerForm.get('lastName').value;\n     applicationData[\"dateOfBirth\"]= new Date(this.registerForm.get('dateOfBirth').value).getTime();\n     applicationData[\"maritalStatus\"]= this.registerForm.get('maritalStatus').value;\n     applicationData[\"ssnNumber\"]= Number.parseInt(this.registerForm.get('ssnNumber').value);\n     applicationData[\"homePhone\"] =this.registerForm.get('homePhone').value;\n     applicationData[\"officePhone\"] =this.registerForm.get('officePhone').value;\n     applicationData[\"emailAddress\"]= this.registerForm.get('emailAddress').value;\n     applicationData[\"address\"]=addressData;\n     applicationData[\"employerName\"]= this.registerForm.get('employerName').value;\n     applicationData[\"annualSalary\"]= Number.parseInt(this.registerForm.get('annualSalary').value); \n     applicationData[\"workExpJoinMonth\"]= Number.parseInt(this.registerForm.get('workExpJoinMonth').value);\n     applicationData[\"workExpJoinYear\"]= Number.parseInt(this.registerForm.get('workExpJoinYear').value);\n     applicationData[\"workExpMonths\"]= Number.parseInt(this.registerForm.get('workExpMonths').value);\n     applicationData[\"workExpYears\"]= Number.parseInt(this.registerForm.get('workExpYears').value);\n     applicationData[\"designation\"]=this.registerForm.get('designation').value;\n     applicationData[\"employmentAddressId\"]=String(this.service.employentIdResponse);\n     applicationData[\"employmentAddress\"]=employmentAddress;\n     applicationData[\"mobile\"]= this.registerForm.get('mobile').value;\n\n     loanData[\"loanAmount\"]=Number.parseInt(this.registerForm.get('loanAmount').value);\n     loanData[\"loanPurpose\"]=this.registerForm.get('loanPurpose').value;\n     loanData[\"description\"]=this.registerForm.get('description').value;\n     loanData[\"customerId\"]=Number.parseInt(this.service.userid);\n     loanData[\"applicantName\"]= this.registerForm.get('firstName').value + \" \" + this.registerForm.get('lastName').value ;\n     loanData[\"applicationStatus\"] = 0; //In process\n\n     console.log(this.service.userid);\n     console.log(this.service.addressIdResponse);\n     \n    await  this.service.putLoanApplication(loanData);\n    await  this.service.submitApplication(applicationData);\n      console.log(this.service.bureauresponse);\n    await  this.service.bureauService(this.service.bureauresponse);\n     this.score = this.service.bureauscore;\n     console.log(this.score);\n      loanData[\"applicationId\"]=Number.parseInt(this.service.applicationresponse[\"applicationId\"]);\n      if(this.score<680){\n          loanData[\"declineReason\"] = \"Insufficient Score\";\n          loanData[\"applicationStatus\"] = 1;   //Declined\n          loanData[\"score\"] = this.score;\n      }else{\n        loanData[\"declineReason\"] = \"None\";\n          loanData[\"applicationStatus\"] = 2;    //Accepted\n          loanData[\"score\"] = this.score;\n      }\n      this.service.updateApplication(loanData);\n      this.router.navigateByUrl('/success-submit');\n\n  }\n\n  onReset(){\n    this.submitted = false;\n    this.registerForm.reset();\n  }\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}